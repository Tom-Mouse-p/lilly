<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Command Processor</title>
</head>

<body>
  <h1>Command Processor</h1>
  <form action="">
    <input type="text" id="commandInput" placeholder="Enter a command">
    <button id="executeCommand">Execute</button>
  </form>
  <div id="result"></div>
  <!-- <script src="script.js"></script> -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const commandInput = document.getElementById('commandInput');
      const executeButton = document.getElementById('executeCommand');
      const resultDiv = document.getElementById('result');

      let websiteData; // To store the JSON data

      // Load the JSON data from the external file
      fetch('websites.json')
        .then(response => {
          if (!response.ok) {
            throw new Error('Failed to load JSON data.');
          }
          return response.json();
        })
        .then(data => {
          websiteData = data;
        })
        .catch(error => {
          console.error('Error loading JSON:', error);
        });

      executeButton.addEventListener('click', function () {
        const command = commandInput.value.toLowerCase();
        processCommand(command);
      });

      function processCommand(command) {

        if (websiteData && command in websiteData) {
          const url = websiteData[command];
          window.open(url, '_blank');
          resultDiv.textContent = `Opening ${command}`;
        } else if (command.startsWith('search for ') && command.includes('on youtube')) {
          const query = command.substring(11, command.indexOf(' on youtube'));
          const youtubeSearchURL = 'https://www.youtube.com/results?search_query=';
          window.open(youtubeSearchURL + encodeURIComponent(query), '_blank');
          resultDiv.textContent = `Searching for "${query}" on YouTube`;
        } else if (command.startsWith('search for ')) {
          const query = command.substring(11);
          const searchEngine = 'https://www.google.com/search?q=';
          window.open(searchEngine + query, '_blank');
          resultDiv.textContent = `Searching for ${query}`;
        } else if (command.startsWith('play ')) {
          const song = command.substring(5);
          // You can add code here to play music, e.g., using an external API
          resultDiv.textContent = `Playing ${song}`;
        } else {
          resultDiv.textContent = 'Invalid command';
        }
      }
    });


  </script>
</body>

</html>